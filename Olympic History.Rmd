---
title: "Project 1: Olmypic History Trend Analytics"
author: "Group 9 - Thomas George Thomas, Yang Liu, Pratyush Pothuneedi"
date: "10/28/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, message=FALSE}
#Importing Required packages
library(tidyverse)
library(reshape2)
library(dplyr)
library(knitr)

## Uncomment below to set the working directory.
##setwd("C:/Users/Docs")
```

# 1. Data Acquisition

## importing the datasets
```{r} 
# Data of the athelets and countries
atheletes_df <- read.csv('athlete_events.csv', header = TRUE, sep = ',')
head(atheletes_df, 5) # structure of the dataset
```

```{r}
# Importing Data of the regions tied with the NOC code
regions_df <- read.csv('noc_regions.csv', header= TRUE, sep =',')
head(regions_df, 5)
```

# 2. Data Wrangling

## 2.1 Data Discovery

### Summary Statistics

```{r}
summary(atheletes_df)

```
**We can see that there are NA's in the numerical fields of Age, Height, Weight which we will be handling**

```{r}
summary(regions_df)
```
### Discovering Discrete Data


```{r}
kable(
  atheletes_df %>%
    summarise(total_records=n()),
  caption = "Total Records for Athletes"
  
)
```



```{r}
kable(
  regions_df %>%
    summarise(total_records=n()),
  caption = "Total Records in Regions"
  
)
```

Looking for NA's in all the columns


```{r}
colnames(atheletes_df)[apply(atheletes_df, 2, anyNA)]

```

We already knew that Age, Height & Weight have NA's as seen above in the summary. We found that categorical Medal's have NA, taking a closer look:


```{r}
kable(
  atheletes_df %>%
    group_by(Medal) %>%
    summarise(total_records=n())
    ,caption="Records by Medal Count"
  
)
```
**We can see that there are 231333 NA's for Medals which happens to be categorical data and we need to handle this in the cleaning part**

## 2.2 Structuring

```{r}
head(atheletes_df,5)
```

**We can see that we don't need to do additional restructuring as columns like "Games" is already split and available as Year and Season**

## 2.3 Cleaning

### Handling Missing Data

**We can't filter out the NA values since the columns that exhibit them are required for our analysis. We will be filling the NA values in Age, Height, Weight with Mean values and Medals with 'None'. Here, Medals with 'None' would signify that the athletes simply didn't win any of the categories of Medals (Gold, Silver, Bronze). We didn't filter out the NA records in Age, Height and Weight because that would mean that crucial data would be missing leading to data skewness, we are using the Mean values to reduce the degree of skewness while maintaining data integrity**

Replacing NA's in Medals

```{r, results=FALSE}
atheletes_df$Medal %>% 
  replace_na("None")
```

